<!DOCTYPE html>
<html lang="en" ng-app>
	<head>		
		<title>SemanticWikiSearch</title>
		<style>
			body {
				background-color: white;																			
			}
			header {
				border: solid;						
				height: 90px; width: 100%;	
				position: absolute; top:0px; left: 0px; right:0px; bottom: 0px;
				background-color: white;					
			}
			article {
				border:double;
				position: absolute;
				left:0px;
				top: 90px;
				bottom: 90px;
				width: 100%;				
			}			
			nav {
				padding: 2px;
				position: absolute;
				border:double;
				width: 400px;
				height: 100%;				
				background-color: olive; 
			}	
			section {				
				border:double;	
				height: 100%;			
				padding-left:420px;
				padding-right:20px;
				right:5px;
				background-color: white; 														
			}			
			footer {	
				position: absolute;
				bottom: 0px;
				height: 90px;
				width: 100%;
				left:0px;					
				background-color: white;
				border:double				
			}
			table {
    			border-collapse: collapse;
    			padding: 10px;
			}
			table, th, td {
    			border: 1px solid black;
			}	
			th {
    			background-color: olive;
    			color: white;
    			padding: 4px;
			}
			td {
    			background-color: white;
    			color: black ;
    			padding: 4px;
    		}
			
			#imgsematiclogo {
				position : absolute; top:0px; left:0px;
				height: 90px;
				width: 300px;  				
			}			
			#imagsemantic {
				position : absolute; top:0px; right:0px;
				height: 90px;
				width: 200px; 				
			}
			#imagwikipedia {
				position : absolute; top:0px; right:0px;
				height: 90px;
				width: 250px; 				
			}			
			#imagcognizant {
				position : absolute; bottom:0px; left:0px;
				height: 90px;
				width: 150px; 				
			}
			#imagbits {
				position : absolute; bottom:0px; right:0px;
				height: 90px;
				width: 200px; 				
			}					
		</style>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
		<script>			
			function CompanySearchController($scope, $http) {
						
				$scope.keywordSearch = function(){
					$scope.ajax=1;
					$scope.company=null;
					//$http.get('html/company.json').
					$http.get('company/search/' + $scope.keyword).										
						success(function (data) {							
							$scope.companies = data.companies;
						}
					);
					$scope.ajax=null;
				}
					
				$scope.multipleOptionSearch = function(){					
					var multipleOptionURL = 'company/mutilple-option-search?' + "companyName=" + $scope.companyName + "&industryName=" + $scope.industryName + "&stockSymbol=" + $scope.stockSymbol + "&keyPeople=" + $scope.keyPeople + "&greaterThanEmployeeSize=" + $scope.greaterThanEmployeeSize + "&lesserThanEmployeeSize=" + $scope.lesserThanEmployeeSize + "&foundedBy=" + $scope.foundedBy + "&income=" + $scope.income + "&revenue=" + $scope.revenue + "&city=" + $scope.city + "&state=" + $scope.state + "&country=" + $scope.country + "&xxx=" + $scope.xxx;
					alert(multipleOptionURL);																  
					$http.get($multipleOptionURL).									
					success(function (data) {
						$scope.companies = data.companies;
						}
					);
				}
				
				$scope.getCompanyInfo = function(companyUrl){		
					$scope.companies = null;
					var companyUrl = companyUrl.substring(38); 
					//var companyUrl = companyUrl.substring(48); // AMAZON
					$http.get(companyUrl).									
						success(function (data) {
							$scope.company = data;
						}
					);
				}																
			}
		</script>
	</head>
	<body>		
		<header>			
			<img id="imgsematiclogo" src="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSsT3ooJxLXU_elPl_Ff4EnW2w9xjqgI7CvfB5Rei9hiohy2GWh"/>
			<h2 style="text-align: center ; color: blue ; text-shadow: 1px 1px blue">Company Profile Search - A Semantic approach</h2>
			<p style="text-align: center ; color: grey">
				<em>Sophisticated Search of a Company's Profile. Powered with WikiPedia-DBPedia's Data</em>
			</p>			
			<img id="imagwikipedia" alt="" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSiM_VIr99qQjaROXWuk9NsuqDEd12sR5-byII7h45WQ6sCDrDM"/>
		</header>

		<article ng-controller="CompanySearchController">
			<nav>
				<div style="border: double; padding:5px">
					<h2 style="color:white">Keyword Search</h2>
					<form action="" name="Keyword Search">
						Company Keyword : <input ng-model="keyword" type="search"></input>
						<br />
						<button type="submit" ng-click="keywordSearch();">Submit</button>
					</form>
				</div>
				
				<br/>
				<div style="border: double ; padding:5px ;">
					<h2 style="color:white; width: 100%">Multiple Option Search</h2>
					<form action="" name="Multi Option Search" style="right:5px">
						<table>
							<tbody>
								<tr>
									<td>
										Company Name : <input ng-model="companyName" type="text"  />
									</td>
									<td>
										Industry Name : <input ng-model="industryName" type="text"  />
									</td>
								</tr>
								<tr>
									<td>
										Stock Symbol : <input ng-model="stockSymbol" type="text"  />
									</td>
									<td>
										key People : <input ng-model="keyPeople" type="text"  />	
									</td>
								</tr>
								<tr>
									<td>
										Employee Size <b> >  </b> 
										<input ng-model="greaterThanEmployeeSize" name=empsize1-test type=range min=1000 max=1000000 step=1000 onchange="this.form.empsize1.value=this.value;">						
										<output name=empsize1 for=range-test value=0></output>
									</td>								
									<td>
									Employee Size <b> < </b>
									<input ng-model="lesserThanEmployeeSize" name=empsize2-test type=range min=1000 max=1000000 step=1000 onchange="this.form.empsize2.value=this.value;">
									<output name=empsize2 for=range-test value=0></output>
									</td>
								</tr>
								<tr>
									<td>
										Founded Date : <input ng-model="foundedDate" type="date"  />
									</td>
									<td>
										Founded By : <input ng-model="foundedBy" type="text"  />
									</td>
								</tr>
								<tr>
									<td>
										Income > <input ng-model="income" type="number"  />	
									</td>
									<td>
										Revenue > <input ng-model="revenue" type="number"  />		
									</td>
								</tr>
								<tr>
									<td>
										City : <input ng-model="city" type="text"  />	
									</td>
									<td>
										State : <input ng-model="state" type="text"  />	
									</td>
								</tr>
								<tr>
									<td>
										Country : <input ng-model="country" type="text"  />
									</td>
									<td>
										xxx : <input ng-model="xxx" type="text"  />
									</td>
								</tr>
								<button type="reset" >Reset</button>
								<button type="submit" ng-click="multipleOptionSearch();">Submit</button>								
							</tbody>
						</table>				
					</form>
				</div>
			</nav>
	
			<section>				
				<div>
					<h3 ng-show="keyword || companyName || industryName || stockSymbol || greaterThanEmployeeSize
									|| lesserThanEmployeeSize || foundedBy || foundedDate || income ||
									 revenue || city || state || country || xxx">Input Search Criteria
					</h3>
					<p style="color:green">
						<span style="color:green" ng-show="keyword">Company Keyword : <span style="color:blue" ng-show="keyword">{{keyword}} </span></span>&nbsp;&nbsp;&nbsp;
						<span style="color:green" ng-show="companyName">companyName : <span style="color:blue" ng-show="companyName">{{companyName}}  </span></span>&nbsp;&nbsp;&nbsp;						
						<span style="color:green" ng-show="industryName">industryName : <span style="color:blue" ng-show="industryName"> {{industryName}}  </span></span>&nbsp;&nbsp;&nbsp;
						<span style="color:green" ng-show="stockSymbol">stockSymbol : <span style="color:blue" ng-show="stockSymbol">{{stockSymbol}} </span> </span>&nbsp;&nbsp;&nbsp;
						<span style="color:green" ng-show="greaterThanEmployeeSize">greaterThanEmployeeSize : <span style="color:blue" ng-show="greaterThanEmployeeSize">{{greaterThanEmployeeSize}} </span> </span>&nbsp;&nbsp;&nbsp;
						<span style="color:green" ng-show="lesserThanEmployeeSize">lesserThanEmployeeSize : <span style="color:blue" ng-show="lesserThanEmployeeSize">{{lesserThanEmployeeSize}}  </span></span>&nbsp;&nbsp;&nbsp;
						<span style="color:green" ng-show=foundedBy>foundedBy : <span style="color:blue" ng-show=foundedBy>{{foundedBy}}  </span></span>&nbsp;&nbsp;&nbsp;
						<span style="color:green" ng-show="foundedDate">foundedDate : <span style="color:blue" ng-show="foundedDate"> {{foundedDate}}  </span></span>&nbsp;&nbsp;&nbsp;
						<span style="color:green" ng-show="income">income : <span style="color:blue" ng-show="income">{{income}} </span> </span>&nbsp;&nbsp;&nbsp;
						<span style="color:green" ng-show="revenue">revenue : <span style="color:blue" ng-show="revenue"> {{revenue}}  </span></span>&nbsp;&nbsp;&nbsp;
						<span style="color:green" ng-show="city">city : <span style="color:blue" ng-show="city">{{city}}  </span></span>&nbsp;&nbsp;&nbsp;		
						<span style="color:green" ng-show="state">state : <span style="color:blue" ng-show="state">{{state}} </span> </span>&nbsp;&nbsp;&nbsp;
						<span style="color:green" ng-show="country">country : <span style="color:blue" ng-show="country">{{country}}  </span></span>&nbsp;&nbsp;&nbsp;
						<span style="color:green" ng-show="xxx">xxx : <span style="color:blue" ng-show="xxx">{{xxx}}  </span></span>&nbsp;&nbsp;&nbsp;				
					</p>
				</div>
				
				
				
				<div ng-show="companies"><h3>Company Search Results</h3>					
					<table>
						<thead>
							<tr>
								<th>Index</th>
								<th>Company Name</th>
								<th>Address</th>
								<th>StockSymbol</th>
								<th>Company Source - WikiPedia URL</th>
							</tr>
						</thead>
						<tbody vocab="http://schema.org/" typeof="Organization">
							<tr ng-repeat="company in companies">
								<td>{{$index + 1}}</td>
								<td><a ng-click="getCompanyInfo(company.url);">{{company.companyName}}</a></td>
								<td>{{company.companyName}}</td>
								<td>{{company.companyName}}</td>
								<td><a ng-href="{{company.dbpediaowlisPrimaryTopicOf}}">{{company.url}}</a></td>
							</tr>
							
						</tbody>
						<button type="button" ng-click="companies = null">Clear Results</button>
					</table>
				</div>				
				
				<div ng-show="company" vocab="http://schema.org/" typeof="Organization"><h3>Company Information</h3>					
					<table>						
						<tbody>
							<tr>
								<td>Company Name</td>
								<td><span property="legalName">{{company.companyName}}</span></td>
							</tr>
							<tr>
								<td>Company URL</td>
								<td><span property="url">{{company.url}}</span></td>
							</tr>
							<tr>
								<td>WikiPedia URL</td>
								<td><span property="telephone">{{company.dataSourceUrl}}</span></td>
							</tr>
							<tr>
								<td>Company Synopsis</td>
								<td><span property="description">{{company.description}}</span></td>
							</tr>
							
						</tbody>
						<button type="button" ng-click="company = null">Clear Results</button>
					</table>
				</div>	
			</section>			
		</article>

		<footer>
			<img id="imagcognizant" alt="" src="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSMMbZ-E060eweFxXr_JXUOS8g01KhL6uBLBbzsP4-tZQ4Djcju">
			<p style="padding-left: 100px ; padding-right:100px ; color: blue; text-align: center;">
				<b>This is a research project submitted for BITS MS-Software Engineering Thesis - demonstrating the capabilities of Semantic Technologies - SPARQL, RDFa and Semantic Markups</b>				
				<br/>
				<span style="color: grey">
					 @ <b><em>Guide</em></b>  : Raghul Nandagopal
					 <br/>
					 @ <b><em>Student Name</em></b> : Prabhakaran . T
					 -----  
					 @ <b><em>BITS ID</em></b> : 2012HZ78383
					 <br/>
					 <a href="html/documentation.html" style="color: grey">Documentation</a>
				</span>
			</p>			
			<img id="imagbits" alt="" src="http://www.bits-pilani.ac.in/Uploads/Campus/BITS_university_logo.gif">
		</footer>				
		
	</body>
</html>
